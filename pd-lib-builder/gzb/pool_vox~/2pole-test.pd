#N canvas 111 83 1065 1005 12;
#X floatatom 7 76 10 0 0 0 - - -;
#X floatatom 8 130 10 0 0 0 - - -;
#X obj 8 107 expr 2*sin(3.1415*$f1/44100);
#X text 82 76 freq;
#X text 92 128 raw cutoff;
#X obj 11 222 expr 1/$f1;
#X floatatom 10 194 5 0 0 0 - - -;
#X floatatom 11 245 5 0 0 0 - - -;
#X obj 10 152 s c;
#X obj 11 267 s r;
#X text 37 269 resonance;
#X text 7 171 ============================;
#X text 5 282 ============================;
#X obj 86 303 r r;
#X obj 157 302 r c;
#X text 369 301 $f2 = r;
#X text 368 333 $v4 = v0;
#X text 368 352 $v5 = v1;
#X text 368 316 $f3 = c;
#X obj 15 369 s~ v0;
#X obj 228 304 r~ v0;
#X obj 298 305 r~ v1;
#X text 369 284 $v1 = input;
#X text 63 352 v0 = (1-r*c)*v0 - c*v1 + c*input \;;
#X obj 15 332 expr~ (1-$f2*$f3)*$v4 - $f3*$v5 + $f3*$v1;
#X text 68 468 v1 = (1-r*c)*v1 + c*v0 \;;
#X text 361 424 $f2 = r;
#X text 360 439 $f3 = c;
#X text 361 407 $v1 = v0;
#X text 360 456 $v4 = v1;
#X obj 15 469 s~ v1;
#X obj 15 412 r~ v1;
#X obj 15 440 expr~ (1-$f2*$f3)*$v4 + $f3*$v1;
#X obj 82 410 r r;
#X obj 153 409 r c;
#X obj 228 408 r~ v0;
#X obj 45 518 dac~;
#X obj 614 190 *~;
#X floatatom 614 105 0 0 0 0 - - -;
#X floatatom 544 150 0 0 0 0 - - -;
#X obj 544 220 +~;
#N canvas 0 0 450 300 (subpatch) 0;
#X array fm-output 441 float 0;
#X coords 0 1.02 440 -1.02 200 130 1;
#X restore 797 115 graph;
#X msg 600 272 bang;
#X obj 600 306 tabwrite~ fm-output;
#X floatatom 632 160 0 0 0 0 - - -;
#X text 519 107 carrier;
#X text 518 125 frequency;
#X text 599 81 frequency;
#X text 600 64 modulation;
#X obj 544 266 osc~;
#X text 457 247 "carrier";
#X text 452 182 add modulator;
#X text 451 200 to carrier;
#X text 671 172 index;
#X text 673 153 modulation;
#X obj 614 130 osc~;
#X text 801 247 --- 0.01 seconds ----;
#X text 439 265 oscillator =>;
#X text 449 219 frequency =>;
#X text 642 272 <= click to graph;
#X obj 519 308 s~ fm;
#X obj 10 305 r~ fm;
#X obj 7 51 mtof;
#X obj 12 22 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 8800 1;
#X connect 0 0 2 0;
#X connect 1 0 8 0;
#X connect 2 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 7 0 9 0;
#X connect 13 0 24 1;
#X connect 14 0 24 2;
#X connect 20 0 24 3;
#X connect 21 0 24 4;
#X connect 24 0 19 0;
#X connect 31 0 32 0;
#X connect 32 0 30 0;
#X connect 32 0 36 0;
#X connect 32 0 36 1;
#X connect 33 0 32 1;
#X connect 34 0 32 2;
#X connect 35 0 32 3;
#X connect 37 0 40 1;
#X connect 38 0 55 0;
#X connect 39 0 40 0;
#X connect 40 0 49 0;
#X connect 42 0 43 0;
#X connect 44 0 37 1;
#X connect 49 0 43 0;
#X connect 49 0 60 0;
#X connect 55 0 37 0;
#X connect 61 0 24 0;
#X connect 62 0 0 0;
#X connect 63 0 62 0;
